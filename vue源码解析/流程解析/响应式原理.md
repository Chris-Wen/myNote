## 双向绑定原理/MVVM

分三个关键步骤
- 响应式：数据劫持-Object.defineProperty
- 模板引擎：如何解析模板
- 渲染：Vue如何将监听到的数据变化和解析后的HTML进行渲染

![alt](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/4/11/162b38ab2d635662~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp)

    1、利用Proxy或Object.defineProperty生成的Observer针对对象/对象的属性进行"劫持",在属性发生变化后通知订阅者
    2、解析器Compile解析模板中的Directive(指令)，收集指令所依赖的方法和数据,等待数据变化然后进行渲染
    3、Watcher属于Observer和Compile桥梁,它将接收到的Observer产生的数据变化,并根据Compile提供的指令进行视图渲染,使得数据变化促使视图变化


1.响应式

- create阶段，先进行initState
- 对props/data 中的数据initData进行数据劫持(observe)，遍历data对象
- defineReactive对各个val进行判断并通过Object.defineProperty进行数据劫持，【当val值是Array时，通过改写数据原型上的7个方法(push/pop/shift/unshift/splice/sort/reverse),对子元素再进行observe】并添加到Dep中进行数据管理

- Dep 订阅器/消息管理中心/发布订阅中心：负责储存订阅者和消息的分发,不管是订阅者还是发布者都需要依赖于它。
- Observer 监听者，用于监听属性值的变化：递归调用defineReactive调用Object.defineProperty实现数据劫持
- Watcher 订阅者：收集Dep

2.模板引擎

- mount阶段
- 