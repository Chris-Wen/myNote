## 运算符及神奇用法 -- 二进制

##### ==二进制==运算

程序中的数在计算机中都是以二进制的形式存储的。位运算就是直接对整数在内存中的二进制位操作

> 由于二进制直接对内存数据操作，不需要转成十进制，因此处理速度非常快

位运算符经常有奇特用法，在算法中常有特殊应用

| 符号 | 描述 | 运算规则                                        |
| ---- | ---- | ----------------------------------------------- |
| &    | 与   | 两位都为 1 时，结果才为 1                       |
| \|   | 或   | 两位都为 0 时，结果才为 0                       |
| ^    | 异或 | 两位相同为 0，不同为 1                          |
| ~    | 取反 | 0 变 1，1 变 0                                  |
| <<   | 左移 | 各二进位全部左移若干位，<br/>高位丢弃，地位补 0 |
| >>   | 右移 | 各二进位全部右移若干位...                       |
| >>>  |      | 头部补 0 的右移运算符                           |

---

###### 一些二进制运算符的==神奇用法==

- 用与运算符判断数的奇偶
  `X & 1 = 0` => 偶数
  `X & 1 = 1` => 奇数
  ```js
  /**
   * 二进制演示：
   * 0010 && 0001 => 2 & 1
   * `&` ：两个二进制位垂直相比,两位都为 1,则该位取 1
   * 所以结果为 0001
   */
  2 & 1 = 0; //0
  /**
   * 二进制演示：
   * 0011 && 0001 => 3 & 1
   * `&` ：两个二进制位垂直相比,两位都为 1,则该位取 1
   * 所以结果为 0001
   */
  3 & 1 = 1; // 1
  ```
- X = X & (X-1) => 清零最低位的 1
- X & -X => 得到最低为的 1

- 使用 ~ , >> , << , >>> , | 来取整

  ```js
  console.log(~~ 6.66) //注意是两个~
  console.log(>> 6.66)
  console.log(<< 6.66)
  console.log(>>> 6.66)
  console.log(| 6.66) //以上五种方法结果都为打印出6
  ```

- 使用 ^ 交换两个值

```js
//es6 交换两个值 --- 限数字
let a = 5;
let b = 7;
[a, b] = [b, a];

// ^ 运算符交互 --- 不限类型
let a = 5;
let b = 7;
a ^= b; //其实是a = a ^ b的缩写
b ^= a;
a ^= b; //用这三行实现交换
//此时a值为7,b值为5
```

- `+` 加号运算符，string 转 number

```js
var a = +"5"; // 5
```

---
